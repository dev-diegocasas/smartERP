<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard - Farmatodo ERP</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">Farmatodo ERP</div>
    <div class="user-area">
      <span id="userInfo"></span>
      <button id="logoutBtn">Cerrar sesión</button>
    </div>
  </header>

  <main class="container">
    <h2 id="dashboardTitle">Dashboard</h2>
    <p id="dashboardSubtitle" class="muted">Bienvenido al sistema ERP</p>

    <!-- Navegación por módulos -->
    <nav class="module-nav" id="moduleNav" style="display: none;">
      <button class="module-btn" data-module="dashboard">Dashboard</button>
      <button class="module-btn" data-module="rrhh" style="display: none;">Recursos Humanos</button>
      <button class="module-btn" data-module="inventario" style="display: none;">Inventario</button>
      <button class="module-btn" data-module="ventas" style="display: none;">Ventas</button>
      <button class="module-btn" data-module="compras" style="display: none;">Compras</button>
      <button class="module-btn" data-module="admin" style="display: none;">Administración</button>
    </nav>

    <!-- Contenido del dashboard -->
    <div id="dashboardContent">
      <div class="dashboard-grid">
        <div class="dashboard-card">
          <h3>Bienvenido</h3>
          <p id="welcomeMessage">Cargando información del usuario...</p>
        </div>
        
        <div class="dashboard-card" id="quickActions" style="display: none;">
          <h3>Acciones Rápidas</h3>
          <div id="quickActionsContent"></div>
        </div>
        
        <div class="dashboard-card" id="recentActivity" style="display: none;">
          <h3>Actividad Reciente</h3>
          <div id="recentActivityContent"></div>
        </div>
      </div>
    </div>

    <!-- Contenido de RRHH -->
    <div id="rrhhContent" class="module-content" style="display: none;">
      <h3>Gestión de Empleados</h3>
      <div class="module-actions">
        <button id="addEmpleadoBtn" class="btn-primary">Agregar Empleado</button>
        <button id="refreshEmpleadosBtn" class="btn-secondary">Actualizar</button>
      </div>
      
      <div class="filters">
        <select id="departamentoFilter">
          <option value="">Todos los departamentos</option>
        </select>
        <select id="cargoFilter">
          <option value="">Todos los cargos</option>
        </select>
        <input type="text" id="searchEmpleados" placeholder="Buscar empleados...">
      </div>
      
      <div class="table-wrap">
        <table id="empleadosTable">
          <thead>
            <tr><th>ID</th><th>Nombre</th><th>Email</th><th>Cargo</th><th>Departamento</th><th>Estado</th><th>Acciones</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Contenido de Inventario -->
    <div id="inventarioContent" class="module-content" style="display: none;">
      <h3>Gestión de Inventario</h3>
      <div class="module-actions">
        <button id="addProductoBtn" class="btn-primary">Agregar Producto</button>
        <button id="refreshProductosBtn" class="btn-secondary">Actualizar</button>
        <button id="stockBajoBtn" class="btn-warning">Stock Bajo</button>
      </div>
      
      <div class="filters">
        <select id="categoriaFilter">
          <option value="">Todas las categorías</option>
        </select>
        <input type="text" id="searchProductos" placeholder="Buscar productos...">
        <label><input type="checkbox" id="stockBajoFilter"> Solo stock bajo</label>
      </div>
      
      <div class="table-wrap">
        <table id="productosTable">
          <thead>
            <tr><th>ID</th><th>Código</th><th>Nombre</th><th>Precio</th><th>Stock</th><th>Stock Mín.</th><th>Estado</th><th>Acciones</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Contenido de Ventas -->
    <div id="ventasContent" class="module-content" style="display: none;">
      <h3>Gestión de Clientes</h3>
      <div class="module-actions">
        <button id="addClienteBtn" class="btn-primary">Agregar Cliente</button>
        <button id="refreshClientesBtn" class="btn-secondary">Actualizar</button>
        <button id="reporteClientesBtn" class="btn-info">Reporte por Estado</button>
      </div>
      
      <div class="filters">
        <select id="estadoClienteFilter">
          <option value="">Todos los estados</option>
        </select>
        <input type="text" id="searchClientes" placeholder="Buscar clientes...">
      </div>
      
      <div class="table-wrap">
        <table id="clientesTable">
          <thead>
            <tr><th>ID</th><th>Razón Social</th><th>Email</th><th>Teléfono</th><th>Estado</th><th>Fecha Registro</th><th>Acciones</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Contenido de Compras -->
    <div id="comprasContent" class="module-content" style="display: none;">
      <h3>Gestión de Proveedores</h3>
      <div class="module-actions">
        <button id="addProveedorBtn" class="btn-primary">Agregar Proveedor</button>
        <button id="refreshProveedoresBtn" class="btn-secondary">Actualizar</button>
        <button id="reporteProveedoresBtn" class="btn-info">Reporte por Calificación</button>
      </div>
      
      <div class="filters">
        <select id="estadoProveedorFilter">
          <option value="">Todos los estados</option>
        </select>
        <select id="calificacionFilter">
          <option value="">Todas las calificaciones</option>
        </select>
        <input type="text" id="searchProveedores" placeholder="Buscar proveedores...">
      </div>
      
      <div class="table-wrap">
        <table id="proveedoresTable">
          <thead>
            <tr><th>ID</th><th>Razón Social</th><th>Email</th><th>Teléfono</th><th>Calificación</th><th>Estado</th><th>Acciones</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Contenido de Administración -->
    <div id="adminContent" class="module-content" style="display: none;">
      <h3>Administración del Sistema</h3>
      <div class="admin-grid">
        <div class="admin-card">
          <h4>Usuarios</h4>
          <p>Gestionar usuarios del sistema</p>
          <button class="btn-primary" onclick="window.location.href='/dashboard.html'">Ir a Usuarios</button>
        </div>
        <div class="admin-card">
          <h4>Permisos</h4>
          <p>Gestionar permisos y roles</p>
          <button class="btn-primary" onclick="window.location.href='/dashboard.html'">Ir a Permisos</button>
        </div>
      </div>
    </div>

    <!-- Modales para formularios -->
    <div id="modalOverlay" class="modal-overlay" style="display: none;">
      <div class="modal">
        <div class="modal-header">
          <h3 id="modalTitle">Formulario</h3>
          <button id="closeModal" class="close-btn">&times;</button>
        </div>
        <div class="modal-body" id="modalBody">
          <!-- Contenido del formulario se carga dinámicamente -->
        </div>
      </div>
    </div>
  </main>

  <script src="/js/auth.js"></script>
  <script src="/js/dashboard-base.js"></script>
</body>
</html>
